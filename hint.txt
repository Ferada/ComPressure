#                               PipeCross
!CHARLES
Click and hold the left mouse button to place a new pipe from the start point to the end. If you drag a new pipe over the old one, it will not connect them. If you get something wrong, you can remove the pipes using the right mouse button.
!END
#                               50
!CHARLES
The build menu lets you place a steam source which supplies steam at 100 PSI. An open ended pipe will release the pressure to 0. By tapping off a pipe somewhere in the middle, it may be possible to create a pressure somewhere in between.
!END
#                    NPN
!CHARLES
The build menu has the valve component. By connecting the “+” side of the valve to the North, it allows the North input to control how open the valve is. You can then simply connect East and West to connect the two when North is at High Pressure.
!END
#                    PNP
!NICOLA
If I understand correctly, we need to connect the “+” port of the valve to a high pressure steam source, and the port marked “-” to the South input. This will connect East and West only when the South port pressure is low. If it is high, it will close the valve.
!END
#                    Switch
!NICOLA
When the input is high, we connect the North. We know how to do that from the “Normally Open” design. And when the input is low, we connect the South. That’s our “Normally Closed” design.
!END
#                           Buffer

!NICOLA
Well, let’s start with the basics. When the input is high, we will connect the output to a steam source. When it is low, we will connect to the atmosphere. We know how to do that from the previous designs. As Lady Chavvington noted, the valves are analogue and it appears when values are between 0 and 100, the valves will partly open and recreate the exact ratio.
!END
#                           Inverter
!NICOLA
I guess we need to make a design nearly identical to our buffer. Instead of supplying steam when the input is high, that is when we want it to be connected to atmosphere. When the input is low is when we supply the steam.
!END
#                           Comparator
!NICOLA
We can use valves to measure which of North and South is higher. If North is higher, we connect the output to steam. If South is higher, we connect it to atmosphere.

Remember, the steam in the output pipe will not drain away by itself, we need to  actively release it using a valve.
!END
#                           Amp50
!NICOLA
I guess we already have a comparator, and we have a source of a precise value of 50.
!END
#                           div 2
!NICOLA
When the input is 100, we want the output to be 50. So I guess we connect our 50 generator to the output using a valve. And when the input is 0, we vent the output to atmosphere.
!END
#                           mul 2
!NICOLA
This sounds like our buffer design again, but when the input is 50, we want the output to be 100. So the atmosphere venting valve should be closed once we reach 50. I guess, instead of using the 100 PSI on “-” side of the venting valve, we could switch it to 50. 
!END
#                    Encrypt
!NICOLA
I don’t remember there being any other components in this. I think we just need to connect what is there to the output.
!END
#                          Decrypt
!NICOLA
If we pass the output through our encryption component, we can determine what the input must have been.

When the two inputs on the comparator are equal, the output is neither pressurised, nor vented. If we get too much wobble, we should go back to our comparator design and make it less strong.
!END
#                    Sensor
!NICOLA
We can use the same trick as in our decrypt design. We increase or decrease the amount we open the bottom valve until the pressure between them is exactly 50. We have an Amp50 which does this.
!END
#                                Subtract
!NICOLA
We open one valve to the value of the West input minus the South input, we can then open a second valve to the same level of openness by looking for when the pressure between them is 50.
!END
#                                Add
!NICOLA
This one is somewhat harder. Using a subtractor gives us too much wobble.

Comparing the output minus one of the inputs to the other input fails if the second input is 0 and the valve is fully closed. But in that case we can use a second valve pair to do the same comparison and switching the inputs. We can then use an Amp50 to make sure the pressure between the four valves is 50 PSI.
!END
                                    #  Latch
!ANNIE
When the South input is high, we open our storage pipe. We can the use a buffer to pressurize the output to the same level as we captured. We have to close off the output while the South input is high so as to not let the new pressure propagate through. The easiest way to guarantee this is to use threshold of 50 on the timing and output valves.
!END
                              #  Tabulator
!NICOLA
The output is the value of a latch controlled by the South input. The input to the latch is either the latch output plus or minus the West input. The North input selects between them. We have an adder, a subtractor and a switch.
!END
                              #  Diffuse the bomb
!NICOLA
For a change a wobble is actually desirable. Amplifiers in a ring configuration will make the design unstable and will wobble up and down.
!END
                            # Zoom
!NICOLA
When West is higher than South, start adding more steam. When West is lower than North, start releasing more steam.
!END
                               # Flow detector
!NICOLA
You can put valves in series. Only if all the valves are open will steam flow through.
!END
                               # LatchE
!NICOLA
This is not much different than our normal latch design, except the output and the timing pulse are not connected when the North input is low.
!END
                               # Latch2
!NICOLA
If the North select input is higher than 50, we enable one latch, otherwise we enable the other.
!END
                              # Latch5
!NICOLA
We need so many select signals! What if we chain a row of flow detectors with steam inlet at one end and atmosphere at the other? This would give us all the values we need to create.
!END
                              # Latch10
!NICOLA
We can use two Latch5 elements and switch between them depending if the select is below or above 50. But then we would need to scale the select from one of the two ranges (0 – 50, or 50 – 100) to the range the Latch5 design takes (0 – 100). I guess that Zoom element is useful after all.
!END
                              # MIN
!ADA
It should be as easy as a comparator and a switch.
!END 
                              # MAX
!ADA
Is this not just the same as our Min component but selecting the other way round?
!END 
!END 
!END 
!END 
!END 
!END 
!END 
!END
!END
!END
!END
!END
!END
!END
!END
!END
!END
!END
!END
!END

