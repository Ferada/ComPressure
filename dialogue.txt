#                               PipeCross
!CHARLES
Greetings Gertrude! My name is Charles Chavvington, the proprietor of these here General High Pressure Steam Works. From here we supply High Pressure Steam across half the city, powering everything from steam umbrellas to steam xylophones.

My dearly departed wife, Ada, stipulated that her research into the mathematical properties of steam should continue beyond her time with us. Which leads us to the reason for you coming into my employ. Your undertaking shall be to preserve her legacy and continue these scientific inquiries.

!CHARLES
I trust you have mastered elementary steam engineering in your prior studies, but before we allow you access to her laboratory, you must first demonstrate you are adept at basic steam pipe construction.

Connect the West generator to the East facilities, and the North generator to the South facilities. Under no circumstance should you connect the pipes together! Doing so will deliver free steam to the South facilities, and they never pay their bills on time!

If you are unfamiliar with our High Pressure Steam pipes, there is an engineering manual available up on the top right with the "?" symbol. 
!END

#                               50
!CHARLES
Darn it! The secure door to Ada's laboratory is operated with low pressure steam! I could never figure out how she would get this blasted thing open.

Here at General High Pressure Steam Works we generate steam at 100 Pounds per Square Inch. The door uses Moorhouse's low pressure steam which operates at 50 Pounds per Square Inch (PSI). I'll be dammed if I pipe that degenerate Moorhouse steam onto my property!
!CHARLES
Unless you can magic up a supply of low pressure steam at 50 PSI, we might as well give up.

In the build menu, you will find a steam inlet which can supply you plenty of High Pressure Steam at 100 PSI. It is up there, marked with a spanner. You can also press Tab twice to get access to it.
!END

#					NPN
!CHARLES
By Jove! You did it! Terrible waste of good steam, but it got the job done. I apologise for the untidy state, but some hoodlums have gained access and left a frightful mess.

In this laboratory, my dearest Ada conducted experiments on the valves I constructed to her exact specifications. By applying a good dose of High Pressure Steam to the port marked with a "+", we can open the valve, allowing steam to pass freely between the two unmarked ends.

Give it a try. Connect West and East, but only when North is at a High Pressure. 
!END

#					PNP
!NICOLA
Impressive!
!CHARLES
Ah, Nicola, you are just in time. Gertrude, Nicola will be your assistant. He has already begun studying the notes Ada left. Now, the next bit is a little more challenging for the old grey matter.

While applying steam to the "+" port opens the valve, applying steam to the "-" side closes it. The valve is only open when "+" is under a Higher Pressure than the "-" side.

Ada asked me to add this so she could make a valve that closes upon application of High Pressure to the control pipe. Let's see if these valves still operate correctly.

!CHARLES
Connect the East and West, but only when the pressure coming from the South is lower than 100 PSI.
!END

#					Switch
!CHARLES
Excellent! Now, combining these two designs, we can construct a component that switches between two sources. We can use our designs we just made, but remember, each design adds additional pipes which slow things down.

When the West control house supplies 100 PSI High Pressure Steam, the North generator should be connected to the East facilities. But when the West control house is at 0 PSI atmospheric pressure, the South generator should be connected to the East facilities.
!NICOLA
What happens when the control house supplies a pressure between 0 and 100?
!CHARLES
What!?! That would be low pressure steam! We do not work with low pressure steam! I did not make my fortune by supplying the people low pressure steam!

Never mind all that low pressure nonsense. When West control is High Pressure, connect the North generator, otherwise connect the South generator
!END

#                           Buffer
!NICOLA
Lady Chavvington's notes talk about a steam connection between the Laboratory and the Lady Easley's residence that was used for communication.
!CHARLES
Yes, I had it removed. New procedures. Too much of our High Pressure Steam was going missing. The only steam permitted to leave our facility is metered and provided to paying customers. None of my High Pressure Steam may leave these here walls.
!NICOLA
I think we can still establish a connection without delivering any steam out. According to these notes...
!CHARLES
Hah! Impossible! This is elementary steamology my dear boy! Steam communication relies on the transfer of steam, and thou shalt not "Transfer" any of my steam out!

In any case, I am needed elsewhere. This matter does not appear as urgent as the investigations into into my missing steam.

!NICOLA
According to Lady Chavvington, Charles was not known as the greatest listener. She describes the design in some detail.
!ADA
June 5th
I created a fantastic pressure replicating device today. To create a pressure of a specific value, I used a valves, supplying and venting steam, at a precise ratio. By opening the steam valve to 80%, and opening the atmospheric venting valve to 20%, I could recreate the original pressure of 80 PSI. This appears to work for a whole range of values with the minimal of error. Due to it's isolating properties I shall name it a "buffer".

Communication through pressure, rather than the flow of steam, offers wondrous possibilities as the value is not distorted by the resistance of long pipes. I explained the idea to Charles, although he was more consumed with matters of company profit.
!NICOLA
It appears some of parts of the original design still remain installed in the wall. As long as we use Lady Easley's steam to power the devices beyond the wall, Charles will have no complaint.

!END

#                           Inverter
!NICOLA
Not perfect, but we can always come back and improve it. Fascinating, is it not?. The combination of valves reproduces any pressure value. The incoming pressure opens the steam inlet and the atmosphere venting valves to the exact levels to correctly reproduce the pressure in the output pipe.

Let us send our first message and visit Lady Easley to see if it works.
!ANNIE
[Some time later]
You gave me such a scare! For a minute I thought it was Ada talking to me from beyond the grave.
!NICOLA
Our apologies Lady Easley. We are attempting to continue Lady Chavvington's research. We were trying to send 80 PSI which according to our codebook means "Hello".

!ANNIE
No! 80 PSI means, "Help! I am trapped in the afterlife!". It is 20 PSI that means "Hello".

When Ada installed the system she made a mistake on the valves and all the pressures were received upside down. It was when investigating the issue she got her epiphany on the possibilities of steam. We never fixed it, and instead I inverted all the the pressure values in my codebook.
!NICOLA
Interesting. Perhaps we should see if we can make the same mistake.
!END

#                           Op Amp
!CHARLES
Drat! For the life of me I cannot find the pressure comparator Ada made. Every year, the highly prestigious High Pressure Steam Society compares the pressures provided by all the High Pressure Steam Works to determine the supplier of the Highest Pressure Steam. Without an accurate comparator, we will have to cancel this year's competition.

My five year winning record will be ruined! I am sure she had another one around here somewhere...
!NICOLA
We should try and make it, otherwise he will just keep interfering...
!CHARLES
What was that you say boy?
!NICOLA
I said we could make one, sir.
!END
!CHARLES
#                           Amp50
Excellent! Such precision! I am sure it could detect the pressure of a feather on a cricket pitch.

I need but one more device before I shall leave you to your investigations. In order to be admitted to the High Pressure Steam Society, one must show their steam works produce High Pressure Steam.

!CHARLES
Here at General High Pressure Steam Works, we produce High Pressure Steam at 100 PSI, the only pressure I would recognise as true High Pressure Steam. But technically any steam pressure above 50 PSI is considered High Pressure Steam. As the chair of the High Pressure Steam society, it is my responsibility to make sure inferior low pressure steam producing deviants are not permitted to join.

I require a device to correctly determine the quality of the applicant's steam.
!NICOLA
We still have your design for the 50 PSI steam generator in the tool box.
!END
#                           div 2
!CHARLES
Bravo! With this contraption I will keep those low pressure steam producers out of our exclusive society.
!NICOLA
How many members are there so far?
!CHARLES
Well... One... As I said "Very Exclusive".

In any case, I must be off lest I miss the reception drinks!
!NICOLA
Finally...

According to Lady Chavvington's diary, a second communication pipeline was installed leading to the residence of none other than Lord Moorhouse! Charles would not have been happy if he had found it. Look.
!ADA
June 17th

With the pipeline to Lord Moorhouse's estate complete, I am beginning work on a device to compact the high range of pressure values (0-100), to ones acceptable by the low pressure system (0-50). To my complete surprise, when powered by Lord Moorhouse's low pressure steam, but still using 100 PSI as the reference input, the pressure buffer was able to scale the input pressure to precisely one half.

These properties could have wondrous uses in the field of mathematics.
!NICOLA
Really!?! How can that possibly work?
!END
#                           mul 2
!NICOLA
Astonishing! Well, that got us half way there. We can send; but now we need to receive. We must amplify their steam pressure to our range. According to Lady Chavvington, we must power the device with our 100 PSI steam, but use 50 PSI as the reference pressure.
!END
#					Encrypt
!NICOLA
Let's see if this works.

80 PSI [Hello]
55 PSI [Request meeting]
57 PSI [Afternoon tea at Madingley Hall]
!GEORGE
...
23 PSI [Negative]
...
7  PSI [7]
12 PSI [/]
8  PSI [8]
!NICOLA
What?!? 7/8? Let me check the diary.
...
All the entry for June 8th talks about is the design of the pressure inverter. How could he even communicate with us if the pressures were reversed? ... reversed ... reversed? ...  Of course!

My apologies. Too much time spent in the colonies. Here is the correct entry.
!ADA
July 7th

I suspect our communications have been compromised! After days of pleading, Lord Moorhouse agreed to combine our research efforts. We exchanged the codes to the doors of our respective laboratories over our steam communicator. Just hours later, a hand delivered note was received at our residence informing me his Laboratory has been ransacked and I was no longer welcome. I rushed to find mine had also been broken into! So much work lost.

I stored the code securely. Surely Charles would not have done such a thing. I immediately had the door on my laboratory replaced. Charles would rather die than operate a Moorhouse steam door.

!ADA
I no longer feel safe here. I contacted my sister to expect my imminent arrival. It was a perfect time to test my new encryption system, which will keep our communications secure. I still have not received the sign Charles promised to put on the pipe that leads to her residence. He can be so forgetful at times.

!NICOLA
That was her last diary entry.

Oh dear! I didn't think that pipe was leading anywhere so I used the components for our other designs. Luckily some were welded down so I left them in place. The encryption unit seems mostly functional.
!END 
#                          Decrypt
!NICOLA
Well that was simple. The encryption is simple an unbalanced buffer. But how could you possibly make a design which accurately reverses such a cypher?

Perhaps Lady Easley could help. I shall enquire if she is available to assist us.
...
!ANNIE
Among Ada's papers, did you happen to find a napkin from the Madingley Hall tea rooms? I believe it was dated June 24th. We were discussing new Royal Society paper on "convergence in monotonic series" when Ada began scribbling things down on a napkin. She then proceeded to run out exclaiming how she may have solved the decryption problem. Without settling the bill, I might add.
!ADA
June 24th
A decryption device can be formed by repeatedly guessing the value, encrypting it and comparing it to the encrypted input. Should the input be higher, we increase the guess. Should it be lower, we reduce it. Such a device could reverse numerous functions.

Charles's steam comparator was just what I needed, although I must remember to return it to him before this year's high pressure steam society meeting.
!NICOLA
At least we know where his comparator got to.
!END
#					Sensor
!NICOLA
Incredible! Using this technique we could improve the precision of all our designs. Lady Chavvington's sister must have more information about these techniques.

80 PSI [Hello]
!ADA
80 PSI [Hello]
93 PSI [This is Ada Chavvington]
!NICOLA
60 PSI [Who?]
73 PSI [Repeat]
!ADA
25 PSI [A]
28 PSI [D]
25 PSI [A]
24 PSI [_]
27 PSI [C]
32 PSI [H]
25 PSI [A]
46 PSI [V]
46 PSI [V]
33 PSI [I]
38 PSI [N]
31 PSI [G]
44 PSI [T]
39 PSI [O]
38 PSI [N]
!NICOLA
This is unexpected. We must inform Lord Chavvington at once.
...
Lord Chavvington! We established a link to Lady Chavvington's sister's residence, but the person at the other end claims to be Lady Chavvington herself!
!CHARLES
Ah, yes, that would be Ada.
!NICOLA
B... But Lord Chavvington, you said Ada had died.
!CHARLES
What nonsense! Ada is perfectly fine and staying with sister until we resolve this matter of the missing High Pressure Steam.
!NICOLA
You called her your "dearly departed".
!CHARLES
Yes... She has departed... To her sister's...
!NICOLA
Everyone assumed she died...
!CHARLES
Hmm... Yes... On reflection, that would explain the flowers and cards expressing sympathy my loss. I was touched by people's concern for the loss of my High Pressure Steam.

Nevertheless. The sooner you complete the steam calculation machine, the sooner we can get to the bottom of this. Continue the research post haste.
!ADA
June 27th
Together with Lord Moorhouse such progress has been made in our research into steam computation. Our previous designs suffered from inaccuracies. Only when the valves were perfectly balanced and produced an output of 50, was the result perfect. With this I was struck with an idea.

I could sense how open any valve is, by placing a second valve which vented the steam and adjusting its openness. Only when the who valves are equally open, will the pressure between them be precisely 50. All I had to do is to adjust the value until this was the case.
!ADA
Using this, Lord Moorhouse was able to create a steam pressure adding component, which I hope he will reveal to me.

Lord Moorhouse is most charming and smart as a whip, but often he refuses to share his innovations and at times his advances are most unwelcome.
!END
#                                Subtract
!NICOLA
Well it works. We can now sense how open a valve is, but I don't see how this gets up closer to steam computation. I suppose we must ask Lord Moorhouse.
!NICOLA
Lord Moorhouse. Thank you for allowing us to call upon you. In her absence, we are attempting to continue the steam computation work of Lady Chavvington. Only you know the construction of the pressure adding unit and we beg you share it with us.
!GEORGE
I do agree. Having thought on this recently, the advancement of knowledge must continue despite her collusion with Charles against me. I will disclose the secret of addition in exchange for the assurance that she is safe from him. Hearing the rumours that pass through these halls, I suspect her dead by his hand.
!NICOLA
Lady Chavvington is alive and well, staying with her sister.
!GEORGE
That is a relief. The idea of her spending any more time in that high pressure death trap keeps me up at night. God forbid one of those high pressure tankers explodes. The destruction would be immense. I would not rest until the world was rid of this high pressure horror and my darling Ada was in my loving arms...

Oh... Where was I? The addition design. Before you can make one, you must make one of subtraction. A valve is as open as the pressure on the (+) side minus the pressure on the (-) side. Once you create such a valve, you can then measure it’s openness.

But now, you must leave. With Ada safe, I have an important task I must prepare for.
!END
#                                Add
!CHARLES
I have brought the sign for the pipe that Ada asked for.
!NICOLA
That must have been months ago.
!CHARLES
Yes, well, when a I say I will do something, it will be done. You don't have to remind me every month.

Could you please send her a message from me?

80, 94, 75, 52, 68
!NICOLA
I see you have learned the codes!
!CHARLES
Learned?!? I designed them! It was during my time in the military. A combination of the most frequent messages exchanged between captains.

Be a good chap and send it off at once.
!NICOLA
80 PSI [Hello]
94 PSI [This is Charles Chavvington]
75 PSI [My sweetest angel]
52 PSI [My heart yearns for you]
68 PSI [I longingly await your return]
71 PSI [Without you life has lost all meaning]

!CHARLES
Good, now, I see the subtracter design is complete. Excellent! As my dearly departed Ada once said... 
!NICOLA
Sir! You must stop using that phrase! People are beginning to think you a murderer...
!CHARLES
Hmm... Yes. As Ada..., who is no longer with us, once said, "An adder is but an inversion of an subrtacter. The output minus one of the inputs must be equal to the other input."
!END
!ADA
The journey will continue, although the story is yet to be written. If you have reached this far, join our discord to request the next chapter.
!END

!END
!END
!END
!END
!END
!END
!END
!END

